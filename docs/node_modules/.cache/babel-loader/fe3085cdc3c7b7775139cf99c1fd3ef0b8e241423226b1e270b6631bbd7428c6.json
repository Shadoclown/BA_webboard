{"ast":null,"code":"var _jsxFileName = \"D:\\\\Uni\\\\ba\\\\BA_webboard\\\\cafe\\\\src\\\\component\\\\Home.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom'; // <<<<<< 1. IMPORT useNavigate\nimport supabase from './connect'; // Ensure this path is correct\n\n// Helper to format date (optional)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatDate = dateString => {\n  if (!dateString) return '';\n  const options = {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  };\n  return new Date(dateString).toLocaleDateString(undefined, options);\n};\n\n// Helper to format brief description\nconst formatBriefDescription = (text, maxLength = 120, maxLines = 2) => {\n  if (!text) return 'No description available.';\n  const lines = text.split('\\n');\n  let briefContent = lines.slice(0, maxLines).join('\\n');\n  let wasTruncatedByCharLimit = false;\n  if (briefContent.length > maxLength) {\n    briefContent = briefContent.substring(0, maxLength - 3) + \"...\";\n    wasTruncatedByCharLimit = true;\n  }\n  if (!wasTruncatedByCharLimit && lines.length > maxLines) {\n    briefContent += \"...\";\n  }\n  return briefContent;\n};\nconst PostCard = ({\n  post\n}) => {\n  _s();\n  var _post$user;\n  const navigate = useNavigate(); // <<<<<< 2. INITIALIZE useNavigate\n\n  const styles = {\n    card: {\n      backgroundColor: '#ffffff',\n      border: '1px solid #e0e0e0',\n      borderRadius: '8px',\n      padding: '20px',\n      marginBottom: '20px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.05)',\n      display: 'flex',\n      flexDirection: 'column',\n      cursor: 'pointer',\n      // <<<<<< Make it look clickable\n      transition: 'box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out' // For hover effect\n    },\n    // You can add a hover style if you like, e.g.:\n    // cardHover: {\n    //   boxShadow: '0 5px 15px rgba(0,0,0,0.1)',\n    //   transform: 'translateY(-3px)',\n    // },\n    header: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'flex-start',\n      marginBottom: '10px'\n    },\n    title: {\n      fontSize: '20px',\n      fontWeight: 'bold',\n      color: '#333',\n      marginBottom: '5px'\n    },\n    meta: {\n      fontSize: '12px',\n      color: '#777',\n      marginBottom: '15px'\n    },\n    regionTag: {\n      backgroundColor: '#f0f0f0',\n      color: '#555',\n      padding: '4px 8px',\n      borderRadius: '4px',\n      fontSize: '12px',\n      fontWeight: '500',\n      alignSelf: 'flex-start'\n    },\n    description: {\n      fontSize: '14px',\n      color: '#555',\n      marginBottom: '15px',\n      lineHeight: '1.6'\n    },\n    imageContainer: {\n      display: 'flex',\n      gap: '10px',\n      marginBottom: '15px',\n      alignItems: 'center'\n    },\n    postImage: {\n      width: '80px',\n      height: '80px',\n      borderRadius: '4px',\n      objectFit: 'cover',\n      border: '1px solid #eee'\n    },\n    imagePlaceholder: {\n      width: '80px',\n      height: '80px',\n      borderRadius: '4px',\n      backgroundColor: '#f0f0f0',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: '#bbb',\n      fontSize: '12px',\n      border: '1px solid #eee',\n      textAlign: 'center'\n    },\n    plusMoreImages: {\n      width: '80px',\n      height: '80px',\n      borderRadius: '4px',\n      backgroundColor: '#e9ecef',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: '18px',\n      fontWeight: 'bold',\n      color: '#495057',\n      border: '1px solid #dee2e6'\n    },\n    actions: {\n      display: 'flex',\n      gap: '20px',\n      fontSize: '14px',\n      color: '#777',\n      borderTop: '1px solid #f0f0f0',\n      paddingTop: '15px',\n      marginTop: 'auto'\n    },\n    actionItem: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '5px'\n    }\n  };\n  const authorDisplayName = ((_post$user = post.user) === null || _post$user === void 0 ? void 0 : _post$user.username) || `User ID: ${post.user_id ? post.user_id.substring(0, 8) : 'N/A'}...`;\n  const displayDescription = formatBriefDescription(post.post_detail);\n\n  // --- MODIFIED Image URL Extraction and Display Logic ---\n  const allImageUrls = [];\n  let imagesProcessedFromPostImageArray = false;\n  if (post.post_image) {\n    if (typeof post.post_image === 'string' && post.post_image.startsWith('[') && post.post_image.endsWith(']')) {\n      try {\n        const parsedImages = JSON.parse(post.post_image);\n        if (Array.isArray(parsedImages)) {\n          parsedImages.forEach(url => {\n            if (typeof url === 'string' && url.trim() !== '') {\n              allImageUrls.push(url.trim());\n            }\n          });\n          imagesProcessedFromPostImageArray = true;\n        } else if (typeof post.post_image === 'string' && post.post_image.trim() !== '') {\n          allImageUrls.push(post.post_image.trim());\n        }\n      } catch (e) {\n        console.warn('Failed to parse post_image JSON. Treating as a single URL if it\\'s a string:', post.post_image, e);\n        if (typeof post.post_image === 'string' && post.post_image.trim() !== '') {\n          allImageUrls.push(post.post_image.trim());\n        }\n      }\n    } else if (typeof post.post_image === 'string' && post.post_image.trim() !== '') {\n      allImageUrls.push(post.post_image.trim());\n    }\n  }\n  if (!imagesProcessedFromPostImageArray) {\n    if (post.post_image_2 && typeof post.post_image_2 === 'string' && post.post_image_2.trim() !== '') {\n      allImageUrls.push(post.post_image_2.trim());\n    }\n    if (post.post_image_3 && typeof post.post_image_3 === 'string' && post.post_image_3.trim() !== '') {\n      allImageUrls.push(post.post_image_3.trim());\n    }\n  }\n  const imageSlots = [];\n  const MAX_UI_IMAGE_SLOTS = 3;\n  if (allImageUrls.length === 0) {\n    imageSlots.push({\n      type: 'placeholder',\n      text: 'No Image'\n    });\n  } else if (allImageUrls.length === 1) {\n    imageSlots.push({\n      type: 'real',\n      src: allImageUrls[0],\n      alt: `${post.post_title || 'Post'} image 1`\n    });\n  } else {\n    imageSlots.push({\n      type: 'real',\n      src: allImageUrls[0],\n      alt: `${post.post_title || 'Post'} image 1`\n    });\n    if (MAX_UI_IMAGE_SLOTS >= 2) {\n      imageSlots.push({\n        type: 'real',\n        src: allImageUrls[1],\n        alt: `${post.post_title || 'Post'} image 2`\n      });\n    }\n    if (MAX_UI_IMAGE_SLOTS >= 3) {\n      if (allImageUrls.length === 3) {\n        imageSlots.push({\n          type: 'real',\n          src: allImageUrls[2],\n          alt: `${post.post_title || 'Post'} image 3`\n        });\n      } else if (allImageUrls.length > 3) {\n        const remainingCount = allImageUrls.length - 2;\n        imageSlots.push({\n          type: 'plusMore',\n          text: `+${remainingCount}`\n        });\n      }\n    }\n  }\n  // --- END OF MODIFIED Image URL Extraction and Display Logic ---\n\n  const handleCardClick = () => {\n    // <<<<<< 3. DEFINE THE CLICK HANDLER\n    if (post && post.post_id) {\n      console.log('Navigating to post ID:', post.post_id); // For debugging\n      navigate(`/post/${post.post_id}`);\n    } else {\n      console.error(\"PostCard: post_id is missing, cannot navigate.\");\n    }\n  };\n\n  // Optional: for hover effect (you can remove if not needed)\n  const [isHovered, setIsHovered] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...styles.card,\n      ...(isHovered ? {\n        boxShadow: '0 5px 15px rgba(0,0,0,0.1)',\n        transform: 'translateY(-3px)'\n      } : {})\n    },\n    onClick: handleCardClick // <<<<<< 4. ATTACH THE CLICK HANDLER\n    ,\n    onMouseEnter: () => setIsHovered(true) // Optional\n    ,\n    onMouseLeave: () => setIsHovered(false) // Optional\n    ,\n    role: \"link\" // Accessibility\n    ,\n    tabIndex: 0 // Accessibility: make it focusable\n    ,\n    onKeyPress: e => {\n      if (e.key === 'Enter' || e.key === ' ') handleCardClick();\n    } // Accessibility: keyboard click\n    ,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.title,\n          children: post.post_title || 'Untitled Post'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.meta,\n          children: [\"By \", authorDisplayName, \" \\u2022 \", formatDate(post.created_at)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), post.post_region && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: styles.regionTag,\n        children: post.post_region\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles.description,\n      children: displayDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.imageContainer,\n      children: imageSlots.slice(0, MAX_UI_IMAGE_SLOTS).map((img, index) => {\n        if (img.type === 'real') {\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            src: img.src,\n            alt: img.alt,\n            style: styles.postImage\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 20\n          }, this);\n        } else if (img.type === 'plusMore') {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.plusMoreImages,\n            children: img.text\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 20\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.imagePlaceholder,\n            children: img.text\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 20\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.actions,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: styles.actionItem,\n        children: [\"\\uD83D\\uDC4D \", post.post_like || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: styles.actionItem,\n        children: [\"\\uD83D\\uDC4E \", post.post_dislike || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: styles.actionItem,\n        children: [\"\\uD83D\\uDCAC \", post.comment_count || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n};\n\n// HomePage component remains largely the same\n_s(PostCard, \"XLqfTMlh7izMyaaAwegOrHDWMIs=\", false, function () {\n  return [useNavigate];\n});\n_c = PostCard;\nconst HomePage = () => {\n  _s2();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedRegion, setSelectedRegion] = useState('All Region');\n  const regions = ['All Region', 'North', 'East', 'South', 'West', 'Central'];\n  const fetchPosts = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      let query = supabase.from('post').select(`\n          post_id,\n          user_id,\n          post_title,\n          post_detail,\n          post_image,\n          post_region,\n          post_like,\n          post_dislike,\n          user_id:user_id\n        `).order('created_at', {\n        ascending: false\n      });\n      if (selectedRegion !== 'All Region') {\n        query = query.eq('post_region', selectedRegion);\n      }\n      if (searchTerm.trim() !== '') {\n        query = query.or(`post_title.ilike.%${searchTerm.trim()}%,post_detail.ilike.%${searchTerm.trim()}%`);\n      }\n      const {\n        data,\n        error: fetchError\n      } = await query;\n      if (fetchError) {\n        throw fetchError;\n      }\n      setPosts(data || []);\n    } catch (err) {\n      console.error('Error fetching posts:', err);\n      setError(err.message || 'Failed to fetch posts.');\n      setPosts([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [searchTerm, selectedRegion]);\n  useEffect(() => {\n    fetchPosts();\n  }, [fetchPosts]);\n  const handleSearch = e => {\n    e.preventDefault();\n    // fetchPosts(); // Not strictly necessary here as useEffect already listens to searchTerm\n  };\n  const styles = {\n    pageContainer: {\n      display: 'flex',\n      maxWidth: '1200px',\n      margin: '0 auto',\n      padding: '20px',\n      gap: '30px',\n      fontFamily: 'Arial, sans-serif',\n      backgroundColor: '#f8f9fa'\n    },\n    sidebar: {\n      flex: '0 0 250px',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '20px'\n    },\n    searchSection: {},\n    filterSection: {},\n    sectionTitle: {\n      fontSize: '16px',\n      fontWeight: 'bold',\n      marginBottom: '10px',\n      color: '#333'\n    },\n    searchInputContainer: {\n      display: 'flex',\n      gap: '10px'\n    },\n    searchInput: {\n      flexGrow: 1,\n      padding: '10px',\n      border: '1px solid #ccc',\n      borderRadius: '4px',\n      fontSize: '14px'\n    },\n    searchButton: {\n      padding: '10px 15px',\n      border: '1px solid #ccc',\n      borderRadius: '4px',\n      backgroundColor: '#fff',\n      cursor: 'pointer',\n      fontSize: '14px'\n    },\n    regionButton: {\n      width: '100%',\n      padding: '12px',\n      border: '1px solid #ddd',\n      borderRadius: '4px',\n      backgroundColor: '#fff',\n      textAlign: 'left',\n      cursor: 'pointer',\n      fontSize: '14px',\n      marginBottom: '8px',\n      color: '#333'\n    },\n    selectedRegionButton: {\n      backgroundColor: '#e9ecef',\n      borderColor: '#adb5bd',\n      fontWeight: 'bold'\n    },\n    mainContent: {\n      flexGrow: 1\n    },\n    pageTitle: {\n      fontSize: '24px',\n      fontWeight: 'bold',\n      marginBottom: '20px',\n      color: '#333'\n    },\n    loadingText: {\n      fontSize: '16px',\n      color: '#555',\n      textAlign: 'center',\n      padding: '20px'\n    },\n    errorText: {\n      fontSize: '16px',\n      color: 'red',\n      textAlign: 'center',\n      padding: '20px'\n    },\n    noPostsText: {\n      fontSize: '16px',\n      color: '#777',\n      textAlign: 'center',\n      padding: '20px'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.pageContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      style: styles.sidebar,\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.searchSection,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.sectionTitle,\n          children: \"Search Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSearch,\n          style: styles.searchInputContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search title or detail\",\n            style: styles.searchInput,\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: styles.searchButton,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.filterSection,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.sectionTitle,\n          children: \"Filter By Region\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), regions.map(region => /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            ...styles.regionButton,\n            ...(selectedRegion === region && styles.selectedRegionButton)\n          },\n          onClick: () => setSelectedRegion(region),\n          children: region\n        }, region, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      style: styles.mainContent,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: styles.pageTitle,\n        children: \"For you page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.loadingText,\n        children: \"Loading posts...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.errorText,\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 19\n      }, this), !loading && !error && posts.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.noPostsText,\n        children: \"No posts found. Try adjusting your search or filters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 11\n      }, this), !loading && !error && posts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: posts.map(post => /*#__PURE__*/_jsxDEV(PostCard, {\n          post: post\n        }, post.post_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 398,\n    columnNumber: 5\n  }, this);\n};\n_s2(HomePage, \"EV5NVrwzxeZZQBfuO4ZcVeyb0M4=\");\n_c2 = HomePage;\nexport default HomePage;\nvar _c, _c2;\n$RefreshReg$(_c, \"PostCard\");\n$RefreshReg$(_c2, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","supabase","jsxDEV","_jsxDEV","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","formatBriefDescription","text","maxLength","maxLines","lines","split","briefContent","slice","join","wasTruncatedByCharLimit","length","substring","PostCard","post","_s","_post$user","navigate","styles","card","backgroundColor","border","borderRadius","padding","marginBottom","boxShadow","display","flexDirection","cursor","transition","header","justifyContent","alignItems","title","fontSize","fontWeight","color","meta","regionTag","alignSelf","description","lineHeight","imageContainer","gap","postImage","width","height","objectFit","imagePlaceholder","textAlign","plusMoreImages","actions","borderTop","paddingTop","marginTop","actionItem","authorDisplayName","user","username","user_id","displayDescription","post_detail","allImageUrls","imagesProcessedFromPostImageArray","post_image","startsWith","endsWith","parsedImages","JSON","parse","Array","isArray","forEach","url","trim","push","e","console","warn","post_image_2","post_image_3","imageSlots","MAX_UI_IMAGE_SLOTS","type","src","alt","post_title","remainingCount","handleCardClick","post_id","log","error","isHovered","setIsHovered","style","transform","onClick","onMouseEnter","onMouseLeave","role","tabIndex","onKeyPress","key","children","fileName","_jsxFileName","lineNumber","columnNumber","created_at","post_region","map","img","index","post_like","post_dislike","comment_count","_c","HomePage","_s2","posts","setPosts","loading","setLoading","setError","searchTerm","setSearchTerm","selectedRegion","setSelectedRegion","regions","fetchPosts","query","from","select","order","ascending","eq","or","data","fetchError","err","message","handleSearch","preventDefault","pageContainer","maxWidth","margin","fontFamily","sidebar","flex","searchSection","filterSection","sectionTitle","searchInputContainer","searchInput","flexGrow","searchButton","regionButton","selectedRegionButton","borderColor","mainContent","pageTitle","loadingText","errorText","noPostsText","onSubmit","placeholder","value","onChange","target","region","_c2","$RefreshReg$"],"sources":["D:/Uni/ba/BA_webboard/cafe/src/component/Home.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; // <<<<<< 1. IMPORT useNavigate\r\nimport supabase from './connect'; // Ensure this path is correct\r\n\r\n// Helper to format date (optional)\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return '';\r\n  const options = { year: 'numeric', month: 'short', day: 'numeric' };\r\n  return new Date(dateString).toLocaleDateString(undefined, options);\r\n};\r\n\r\n// Helper to format brief description\r\nconst formatBriefDescription = (text, maxLength = 120, maxLines = 2) => {\r\n  if (!text) return 'No description available.';\r\n\r\n  const lines = text.split('\\n');\r\n  let briefContent = lines.slice(0, maxLines).join('\\n');\r\n  let wasTruncatedByCharLimit = false;\r\n\r\n  if (briefContent.length > maxLength) {\r\n    briefContent = briefContent.substring(0, maxLength - 3) + \"...\";\r\n    wasTruncatedByCharLimit = true;\r\n  }\r\n\r\n  if (!wasTruncatedByCharLimit && lines.length > maxLines) {\r\n    briefContent += \"...\";\r\n  }\r\n\r\n  return briefContent;\r\n};\r\n\r\n\r\nconst PostCard = ({ post }) => {\r\n  const navigate = useNavigate(); // <<<<<< 2. INITIALIZE useNavigate\r\n\r\n  const styles = {\r\n    card: {\r\n      backgroundColor: '#ffffff',\r\n      border: '1px solid #e0e0e0',\r\n      borderRadius: '8px',\r\n      padding: '20px',\r\n      marginBottom: '20px',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.05)',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      cursor: 'pointer', // <<<<<< Make it look clickable\r\n      transition: 'box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out', // For hover effect\r\n    },\r\n    // You can add a hover style if you like, e.g.:\r\n    // cardHover: {\r\n    //   boxShadow: '0 5px 15px rgba(0,0,0,0.1)',\r\n    //   transform: 'translateY(-3px)',\r\n    // },\r\n    header: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'flex-start',\r\n      marginBottom: '10px',\r\n    },\r\n    title: {\r\n      fontSize: '20px',\r\n      fontWeight: 'bold',\r\n      color: '#333',\r\n      marginBottom: '5px',\r\n    },\r\n    meta: {\r\n      fontSize: '12px',\r\n      color: '#777',\r\n      marginBottom: '15px',\r\n    },\r\n    regionTag: {\r\n      backgroundColor: '#f0f0f0',\r\n      color: '#555',\r\n      padding: '4px 8px',\r\n      borderRadius: '4px',\r\n      fontSize: '12px',\r\n      fontWeight: '500',\r\n      alignSelf: 'flex-start',\r\n    },\r\n    description: {\r\n      fontSize: '14px',\r\n      color: '#555',\r\n      marginBottom: '15px',\r\n      lineHeight: '1.6',\r\n    },\r\n    imageContainer: {\r\n      display: 'flex',\r\n      gap: '10px',\r\n      marginBottom: '15px',\r\n      alignItems: 'center',\r\n    },\r\n    postImage: {\r\n      width: '80px',\r\n      height: '80px',\r\n      borderRadius: '4px',\r\n      objectFit: 'cover',\r\n      border: '1px solid #eee',\r\n    },\r\n    imagePlaceholder: {\r\n      width: '80px',\r\n      height: '80px',\r\n      borderRadius: '4px',\r\n      backgroundColor: '#f0f0f0',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      color: '#bbb',\r\n      fontSize: '12px',\r\n      border: '1px solid #eee',\r\n      textAlign: 'center',\r\n    },\r\n    plusMoreImages: {\r\n      width: '80px',\r\n      height: '80px',\r\n      borderRadius: '4px',\r\n      backgroundColor: '#e9ecef',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      fontSize: '18px',\r\n      fontWeight: 'bold',\r\n      color: '#495057',\r\n      border: '1px solid #dee2e6',\r\n    },\r\n    actions: {\r\n      display: 'flex',\r\n      gap: '20px',\r\n      fontSize: '14px',\r\n      color: '#777',\r\n      borderTop: '1px solid #f0f0f0',\r\n      paddingTop: '15px',\r\n      marginTop: 'auto',\r\n    },\r\n    actionItem: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '5px',\r\n    },\r\n  };\r\n\r\n  const authorDisplayName = post.user?.username || `User ID: ${post.user_id ? post.user_id.substring(0, 8) : 'N/A'}...`;\r\n  const displayDescription = formatBriefDescription(post.post_detail);\r\n\r\n  // --- MODIFIED Image URL Extraction and Display Logic ---\r\n  const allImageUrls = [];\r\n  let imagesProcessedFromPostImageArray = false;\r\n\r\n  if (post.post_image) {\r\n    if (typeof post.post_image === 'string' && post.post_image.startsWith('[') && post.post_image.endsWith(']')) {\r\n      try {\r\n        const parsedImages = JSON.parse(post.post_image);\r\n        if (Array.isArray(parsedImages)) {\r\n          parsedImages.forEach(url => {\r\n            if (typeof url === 'string' && url.trim() !== '') {\r\n              allImageUrls.push(url.trim());\r\n            }\r\n          });\r\n          imagesProcessedFromPostImageArray = true;\r\n        } else if (typeof post.post_image === 'string' && post.post_image.trim() !== '') {\r\n          allImageUrls.push(post.post_image.trim());\r\n        }\r\n      } catch (e) {\r\n        console.warn('Failed to parse post_image JSON. Treating as a single URL if it\\'s a string:', post.post_image, e);\r\n        if (typeof post.post_image === 'string' && post.post_image.trim() !== '') {\r\n          allImageUrls.push(post.post_image.trim());\r\n        }\r\n      }\r\n    } else if (typeof post.post_image === 'string' && post.post_image.trim() !== '') {\r\n      allImageUrls.push(post.post_image.trim());\r\n    }\r\n  }\r\n\r\n  if (!imagesProcessedFromPostImageArray) {\r\n    if (post.post_image_2 && typeof post.post_image_2 === 'string' && post.post_image_2.trim() !== '') {\r\n      allImageUrls.push(post.post_image_2.trim());\r\n    }\r\n    if (post.post_image_3 && typeof post.post_image_3 === 'string' && post.post_image_3.trim() !== '') {\r\n      allImageUrls.push(post.post_image_3.trim());\r\n    }\r\n  }\r\n\r\n  const imageSlots = [];\r\n  const MAX_UI_IMAGE_SLOTS = 3;\r\n\r\n  if (allImageUrls.length === 0) {\r\n    imageSlots.push({ type: 'placeholder', text: 'No Image' });\r\n  } else if (allImageUrls.length === 1) {\r\n    imageSlots.push({ type: 'real', src: allImageUrls[0], alt: `${post.post_title || 'Post'} image 1` });\r\n  } else {\r\n    imageSlots.push({ type: 'real', src: allImageUrls[0], alt: `${post.post_title || 'Post'} image 1` });\r\n    if (MAX_UI_IMAGE_SLOTS >= 2) {\r\n      imageSlots.push({ type: 'real', src: allImageUrls[1], alt: `${post.post_title || 'Post'} image 2` });\r\n    }\r\n    if (MAX_UI_IMAGE_SLOTS >= 3) {\r\n      if (allImageUrls.length === 3) {\r\n        imageSlots.push({ type: 'real', src: allImageUrls[2], alt: `${post.post_title || 'Post'} image 3` });\r\n      } else if (allImageUrls.length > 3) {\r\n        const remainingCount = allImageUrls.length - 2;\r\n        imageSlots.push({ type: 'plusMore', text: `+${remainingCount}` });\r\n      }\r\n    }\r\n  }\r\n  // --- END OF MODIFIED Image URL Extraction and Display Logic ---\r\n\r\n  const handleCardClick = () => { // <<<<<< 3. DEFINE THE CLICK HANDLER\r\n    if (post && post.post_id) {\r\n      console.log('Navigating to post ID:', post.post_id); // For debugging\r\n      navigate(`/post/${post.post_id}`);\r\n    } else {\r\n      console.error(\"PostCard: post_id is missing, cannot navigate.\");\r\n    }\r\n  };\r\n\r\n  // Optional: for hover effect (you can remove if not needed)\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      style={{ ...styles.card, ...(isHovered ? { boxShadow: '0 5px 15px rgba(0,0,0,0.1)', transform: 'translateY(-3px)' } : {}) }}\r\n      onClick={handleCardClick} // <<<<<< 4. ATTACH THE CLICK HANDLER\r\n      onMouseEnter={() => setIsHovered(true)} // Optional\r\n      onMouseLeave={() => setIsHovered(false)} // Optional\r\n      role=\"link\" // Accessibility\r\n      tabIndex={0} // Accessibility: make it focusable\r\n      onKeyPress={(e) => { if (e.key === 'Enter' || e.key === ' ') handleCardClick(); }} // Accessibility: keyboard click\r\n    >\r\n      <div style={styles.header}>\r\n        <div>\r\n          <h3 style={styles.title}>{post.post_title || 'Untitled Post'}</h3>\r\n          <p style={styles.meta}>\r\n            By {authorDisplayName} ‚Ä¢ {formatDate(post.created_at)}\r\n          </p>\r\n        </div>\r\n        {post.post_region && <span style={styles.regionTag}>{post.post_region}</span>}\r\n      </div>\r\n\r\n      <p style={styles.description}>{displayDescription}</p>\r\n\r\n      <div style={styles.imageContainer}>\r\n        {imageSlots.slice(0, MAX_UI_IMAGE_SLOTS).map((img, index) => {\r\n          if (img.type === 'real') {\r\n            return <img key={index} src={img.src} alt={img.alt} style={styles.postImage} />;\r\n          } else if (img.type === 'plusMore') {\r\n            return <div key={index} style={styles.plusMoreImages}>{img.text}</div>;\r\n          } else {\r\n            return <div key={index} style={styles.imagePlaceholder}>{img.text}</div>;\r\n          }\r\n        })}\r\n      </div>\r\n\r\n      <div style={styles.actions}>\r\n        <span style={styles.actionItem}>üëç {post.post_like || 0}</span>\r\n        <span style={styles.actionItem}>üëé {post.post_dislike || 0}</span>\r\n        <span style={styles.actionItem}>üí¨ {post.comment_count || 0}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// HomePage component remains largely the same\r\nconst HomePage = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedRegion, setSelectedRegion] = useState('All Region');\r\n\r\n  const regions = ['All Region', 'North', 'East', 'South', 'West', 'Central'];\r\n\r\n  const fetchPosts = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      let query = supabase\r\n        .from('post')\r\n        .select(`\r\n          post_id,\r\n          user_id,\r\n          post_title,\r\n          post_detail,\r\n          post_image,\r\n          post_region,\r\n          post_like,\r\n          post_dislike,\r\n          user_id:user_id\r\n        `)\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (selectedRegion !== 'All Region') {\r\n        query = query.eq('post_region', selectedRegion);\r\n      }\r\n\r\n      if (searchTerm.trim() !== '') {\r\n        query = query.or(`post_title.ilike.%${searchTerm.trim()}%,post_detail.ilike.%${searchTerm.trim()}%`);\r\n      }\r\n\r\n      const { data, error: fetchError } = await query;\r\n\r\n      if (fetchError) {\r\n        throw fetchError;\r\n      }\r\n      setPosts(data || []);\r\n    } catch (err) {\r\n      console.error('Error fetching posts:', err);\r\n      setError(err.message || 'Failed to fetch posts.');\r\n      setPosts([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [searchTerm, selectedRegion]);\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, [fetchPosts]);\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    // fetchPosts(); // Not strictly necessary here as useEffect already listens to searchTerm\r\n  };\r\n\r\n  const styles = {\r\n    pageContainer: {\r\n      display: 'flex',\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '20px',\r\n      gap: '30px',\r\n      fontFamily: 'Arial, sans-serif',\r\n      backgroundColor: '#f8f9fa',\r\n    },\r\n    sidebar: {\r\n      flex: '0 0 250px',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      gap: '20px',\r\n    },\r\n    searchSection: {},\r\n    filterSection: {},\r\n    sectionTitle: {\r\n      fontSize: '16px',\r\n      fontWeight: 'bold',\r\n      marginBottom: '10px',\r\n      color: '#333',\r\n    },\r\n    searchInputContainer: {\r\n      display: 'flex',\r\n      gap: '10px',\r\n    },\r\n    searchInput: {\r\n      flexGrow: 1,\r\n      padding: '10px',\r\n      border: '1px solid #ccc',\r\n      borderRadius: '4px',\r\n      fontSize: '14px',\r\n    },\r\n    searchButton: {\r\n      padding: '10px 15px',\r\n      border: '1px solid #ccc',\r\n      borderRadius: '4px',\r\n      backgroundColor: '#fff',\r\n      cursor: 'pointer',\r\n      fontSize: '14px',\r\n    },\r\n    regionButton: {\r\n      width: '100%',\r\n      padding: '12px',\r\n      border: '1px solid #ddd',\r\n      borderRadius: '4px',\r\n      backgroundColor: '#fff',\r\n      textAlign: 'left',\r\n      cursor: 'pointer',\r\n      fontSize: '14px',\r\n      marginBottom: '8px',\r\n      color: '#333',\r\n    },\r\n    selectedRegionButton: {\r\n      backgroundColor: '#e9ecef',\r\n      borderColor: '#adb5bd',\r\n      fontWeight: 'bold',\r\n    },\r\n    mainContent: {\r\n      flexGrow: 1,\r\n    },\r\n    pageTitle: {\r\n      fontSize: '24px',\r\n      fontWeight: 'bold',\r\n      marginBottom: '20px',\r\n      color: '#333',\r\n    },\r\n    loadingText: { fontSize: '16px', color: '#555', textAlign: 'center', padding: '20px' },\r\n    errorText: { fontSize: '16px', color: 'red', textAlign: 'center', padding: '20px' },\r\n    noPostsText: { fontSize: '16px', color: '#777', textAlign: 'center', padding: '20px' }\r\n  };\r\n\r\n\r\n  return (\r\n    <div style={styles.pageContainer}>\r\n      <aside style={styles.sidebar}>\r\n        <section style={styles.searchSection}>\r\n          <h2 style={styles.sectionTitle}>Search Posts</h2>\r\n          <form onSubmit={handleSearch} style={styles.searchInputContainer}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search title or detail\"\r\n              style={styles.searchInput}\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <button type=\"submit\" style={styles.searchButton}>Search</button>\r\n          </form>\r\n        </section>\r\n\r\n        <section style={styles.filterSection}>\r\n          <h2 style={styles.sectionTitle}>Filter By Region</h2>\r\n          {regions.map((region) => (\r\n            <button\r\n              key={region}\r\n              style={{\r\n                ...styles.regionButton,\r\n                ...(selectedRegion === region && styles.selectedRegionButton),\r\n              }}\r\n              onClick={() => setSelectedRegion(region)}\r\n            >\r\n              {region}\r\n            </button>\r\n          ))}\r\n        </section>\r\n      </aside>\r\n\r\n      <main style={styles.mainContent}>\r\n        <h1 style={styles.pageTitle}>For you page</h1>\r\n        {loading && <p style={styles.loadingText}>Loading posts...</p>}\r\n        {error && <p style={styles.errorText}>Error: {error}</p>}\r\n        {!loading && !error && posts.length === 0 && (\r\n          <p style={styles.noPostsText}>No posts found. Try adjusting your search or filters.</p>\r\n        )}\r\n        {!loading && !error && posts.length > 0 && (\r\n          <div>\r\n            {posts.map((post) => (\r\n              <PostCard key={post.post_id} post={post} />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}