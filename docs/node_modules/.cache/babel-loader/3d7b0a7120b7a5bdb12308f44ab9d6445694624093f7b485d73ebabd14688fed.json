{"ast":null,"code":"import React,{useState,useEffect}from'react';import supabase from'./connect';// Make sure this path is correct\nimport'../style/CreateReview.css';// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateReview=_ref=>{let{userData}=_ref;const[title,setTitle]=useState('');const[reviewText,setReviewText]=useState('');const[selectedRegion,setSelectedRegion]=useState(null);const[imageFiles,setImageFiles]=useState([]);const[imagePreviewUrls,setImagePreviewUrls]=useState([]);const[uploading,setUploading]=useState(false);const[errorMsg,setErrorMsg]=useState('');const[successMsg,setSuccessMsg]=useState('');const[uploadProgress,setUploadProgress]=useState({});console.log(\"CreateReview received userData:\",userData);const user_id=(userData===null||userData===void 0?void 0:userData.user_id)||(userData===null||userData===void 0?void 0:userData.id)||(userData&&Object.keys(userData).length>0?userData[Object.keys(userData)[0]]:null);console.log(\"Using user_id:\",user_id);useEffect(()=>{if(!user_id&&process.env.NODE_ENV==='development'){console.warn('User data or user_id is missing in CreateReview component. Check how userData is passed.');console.warn('Available userData:',userData);}},[user_id,userData]);const regions=['North','South','Central','West','East'];const MAX_FILE_SIZE_MB=5;const MAX_TOTAL_FILES=5;const MAX_TOTAL_SIZE_MB=20;useEffect(()=>{return()=>{imagePreviewUrls.forEach(url=>URL.revokeObjectURL(url));};},[imagePreviewUrls]);const handleImageChange=e=>{setErrorMsg('');setSuccessMsg('');const files=e.target.files?Array.from(e.target.files):[];console.log(`Selected ${files.length} files:`,files);if(!files.length){imagePreviewUrls.forEach(url=>URL.revokeObjectURL(url));setImageFiles([]);setImagePreviewUrls([]);return;}if(files.length>MAX_TOTAL_FILES){setErrorMsg(`You can upload a maximum of ${MAX_TOTAL_FILES} images.`);e.target.value=null;return;}const newImageFiles=[];const newPreviewUrls=[];let validationError=false;let totalSize=0;for(const file of files){totalSize+=file.size;if(file.size>MAX_FILE_SIZE_MB*1024*1024){setErrorMsg(`Image \"${file.name}\" exceeds ${MAX_FILE_SIZE_MB}MB limit.`);validationError=true;break;}newImageFiles.push(file);}if(totalSize>MAX_TOTAL_SIZE_MB*1024*1024){setErrorMsg(`Total size of all images exceeds ${MAX_TOTAL_SIZE_MB}MB limit.`);validationError=true;}if(validationError){imagePreviewUrls.forEach(url=>URL.revokeObjectURL(url));setImageFiles([]);setImagePreviewUrls([]);e.target.value=null;return;}imagePreviewUrls.forEach(url=>URL.revokeObjectURL(url));newImageFiles.forEach(file=>newPreviewUrls.push(URL.createObjectURL(file)));console.log(`Created ${newPreviewUrls.length} preview URLs`);setImageFiles(newImageFiles);setImagePreviewUrls(newPreviewUrls);};const resetForm=()=>{setTitle('');setReviewText('');setSelectedRegion(null);setImageFiles([]);imagePreviewUrls.forEach(url=>URL.revokeObjectURL(url));setImagePreviewUrls([]);const fileInput=document.getElementById('images');if(fileInput)fileInput.value=null;};const handleSubmit=async e=>{e.preventDefault();setUploading(true);setErrorMsg('');setSuccessMsg('');setUploadProgress({});if(!user_id){setErrorMsg('You must be logged in to post a review. Please log in and try again.');setUploading(false);return;}if(!title||!reviewText||!selectedRegion){setErrorMsg('Please fill in Title, Review, and select a Region.');setUploading(false);return;}const cleanRegion=selectedRegion===null||selectedRegion===void 0?void 0:selectedRegion.replace(/[0-9]/g,'');const uploadedImagePublicUrls=[];if(imageFiles.length>0){console.log(`Preparing to upload ${imageFiles.length} images`);const initialProgress={};imageFiles.forEach((file,index)=>{initialProgress[index]=0;});setUploadProgress(initialProgress);const uploadPromises=imageFiles.map(async(file,index)=>{const fileExt=file.name.split('.').pop();const fileName=`${Date.now()}-${Math.random().toString(36).substring(2,10)}-${index}.${fileExt}`;const filePath=fileName;console.log(`Starting upload for file ${index}: ${file.name}`);try{const updateProgress=progress=>{setUploadProgress(prev=>({...prev,[index]:progress}));};updateProgress(10);const{error:uploadError}=await supabase.storage.from('image').upload(filePath,file,{cacheControl:'3600',upsert:false});updateProgress(80);if(uploadError){console.error(`Image Upload Error for ${file.name}:`,uploadError);throw new Error(`Failed to upload ${file.name}: ${uploadError.message}`);}const{data:urlData}=supabase.storage.from('image').getPublicUrl(filePath);updateProgress(100);if(!urlData||!urlData.publicUrl){throw new Error(`Image ${file.name} uploaded, but could not get its URL.`);}console.log(`Successfully uploaded file ${index}: ${urlData.publicUrl}`);return urlData.publicUrl;}catch(err){console.error('Unexpected upload error:',err);throw err;}});try{const urls=await Promise.all(uploadPromises);console.log(`All uploads complete. Got ${urls.length} URLs:`,urls);uploadedImagePublicUrls.push(...urls);}catch(error){setErrorMsg(error.message+' Review not posted.');setUploading(false);return;}}const reviewData={user_id:user_id,post_title:title,post_detail:reviewText,post_region:cleanRegion,post_like:0,post_dislike:0};if(uploadedImagePublicUrls.length>0){reviewData.post_image=uploadedImagePublicUrls;console.log(\"Image URLs to be saved:\",uploadedImagePublicUrls);}try{const{data:insertData,error:insertError}=await supabase.from('post').insert([reviewData]).select();setUploading(false);if(insertError){console.error('Insert Error:',insertError);if(insertError.code==='23505'){setErrorMsg('This post appears to be a duplicate. Please try with a different title or content.');if(insertError.details){console.log('Constraint violation details:',insertError.details);if(insertError.details.includes('post_title')){setErrorMsg('A post with this title already exists. Please use a different title.');}else if(insertError.details.includes('post_detail')){setErrorMsg('A post with identical content already exists. Please modify your review text.');}else{setErrorMsg('Your post is similar to an existing one. Please make more substantial changes.');}}}else{setErrorMsg(`Failed to post review: ${insertError.message}. Check console.`);}}else{console.log('Inserted Review:',insertData);setSuccessMsg('Review posted successfully!');resetForm();}}catch(error){console.error('Unexpected error:',error);setErrorMsg(`An unexpected error occurred: ${error.message}`);setUploading(false);}};const handleCancel=()=>{resetForm();setErrorMsg('');setSuccessMsg('');console.log('Form cancelled');};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formCard\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading\",children:\"Create New Review\"}),!user_id&&/*#__PURE__*/_jsx(\"p\",{className:\"errorText\",children:\"You must be logged in to create a review.\"}),errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"errorText\",children:errorMsg}),successMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"successText\",children:successMsg}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",className:\"input\",placeholder:\"E.g. Amazing Italian Restaurant in Downtown\",value:title,onChange:e=>setTitle(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Region\"}),/*#__PURE__*/_jsx(\"div\",{className:\"regionContainer\",children:regions.map((region,index)=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`regionButton ${selectedRegion===region+index?'selectedRegionButton':''}`,onClick:()=>{setSelectedRegion(region+index);setErrorMsg('');},children:region},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"review\",className:\"label\",children:\"Review\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"review\",className:\"textarea\",placeholder:\"Share your experience...\",value:reviewText,onChange:e=>setReviewText(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"images\",className:\"label\",children:[\"Upload Images (Optional, max \",MAX_FILE_SIZE_MB,\"MB each, \",MAX_TOTAL_FILES,\" files max)\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"images\",accept:\"image/png, image/jpeg, image/gif\",multiple:true,onChange:handleImageChange,className:\"input\",disabled:uploading}),imagePreviewUrls.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"imagePreviewContainer\",style:{display:'flex',flexWrap:'wrap',gap:'10px',marginTop:'10px'},children:imagePreviewUrls.map((url,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"imagePreviewWrapper\",style:{position:'relative',width:'100px',height:'100px',border:'1px solid #ddd',borderRadius:'4px',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"img\",{src:url,alt:`Preview ${index+1}`,className:\"imagePreview\",style:{width:'100%',height:'100%',objectFit:'cover'}}),uploading&&uploadProgress[index]!==undefined&&/*#__PURE__*/_jsxs(\"div\",{className:\"uploadProgressOverlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"uploadProgressBar\",style:{width:`${uploadProgress[index]}%`}}),/*#__PURE__*/_jsxs(\"span\",{className:\"uploadProgressText\",children:[uploadProgress[index],\"%\"]})]}),!uploading&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"removeImageButton\",style:{position:'absolute',top:'2px',right:'2px',background:'rgba(0,0,0,0.5)',color:'white',border:'none',borderRadius:'50%',width:'20px',height:'20px',cursor:'pointer',fontSize:'12px',display:'flex',alignItems:'center',justifyContent:'center',padding:0},onClick:()=>{const newFiles=[...imageFiles];const newUrls=[...imagePreviewUrls];URL.revokeObjectURL(newUrls[index]);newFiles.splice(index,1);newUrls.splice(index,1);setImageFiles(newFiles);setImagePreviewUrls(newUrls);},children:\"\\u2715\"})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonContainer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancelButton\",onClick:handleCancel,disabled:uploading||!user_id,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"postButton\",disabled:uploading||!user_id,children:uploading?'Posting...':'Post Review'})]})]})]})});};export default CreateReview;","map":{"version":3,"names":["React","useState","useEffect","supabase","jsx","_jsx","jsxs","_jsxs","CreateReview","_ref","userData","title","setTitle","reviewText","setReviewText","selectedRegion","setSelectedRegion","imageFiles","setImageFiles","imagePreviewUrls","setImagePreviewUrls","uploading","setUploading","errorMsg","setErrorMsg","successMsg","setSuccessMsg","uploadProgress","setUploadProgress","console","log","user_id","id","Object","keys","length","process","env","NODE_ENV","warn","regions","MAX_FILE_SIZE_MB","MAX_TOTAL_FILES","MAX_TOTAL_SIZE_MB","forEach","url","URL","revokeObjectURL","handleImageChange","e","files","target","Array","from","value","newImageFiles","newPreviewUrls","validationError","totalSize","file","size","name","push","createObjectURL","resetForm","fileInput","document","getElementById","handleSubmit","preventDefault","cleanRegion","replace","uploadedImagePublicUrls","initialProgress","index","uploadPromises","map","fileExt","split","pop","fileName","Date","now","Math","random","toString","substring","filePath","updateProgress","progress","prev","error","uploadError","storage","upload","cacheControl","upsert","Error","message","data","urlData","getPublicUrl","publicUrl","err","urls","Promise","all","reviewData","post_title","post_detail","post_region","post_like","post_dislike","post_image","insertData","insertError","insert","select","code","details","includes","handleCancel","className","children","onSubmit","htmlFor","type","placeholder","onChange","region","onClick","accept","multiple","disabled","style","display","flexWrap","gap","marginTop","position","width","height","border","borderRadius","overflow","src","alt","objectFit","undefined","top","right","background","color","cursor","fontSize","alignItems","justifyContent","padding","newFiles","newUrls","splice"],"sources":["D:/Uni/ba/BA_webboard/cafe/src/component/CreateReview.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport supabase from './connect'; // Make sure this path is correct\r\nimport '../style/CreateReview.css'; // Import the CSS file\r\n\r\nconst CreateReview = ({userData}) => {\r\n  const [title, setTitle] = useState('');\r\n  const [reviewText, setReviewText] = useState('');\r\n  const [selectedRegion, setSelectedRegion] = useState(null);\r\n  const [imageFiles, setImageFiles] = useState([]);\r\n  const [imagePreviewUrls, setImagePreviewUrls] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [successMsg, setSuccessMsg] = useState('');\r\n  const [uploadProgress, setUploadProgress] = useState({});\r\n\r\n  console.log(\"CreateReview received userData:\", userData);\r\n  const user_id = userData?.user_id || userData?.id || (userData && Object.keys(userData).length > 0 ? userData[Object.keys(userData)[0]] : null);\r\n  console.log(\"Using user_id:\", user_id);\r\n\r\n  useEffect(() => {\r\n    if (!user_id && process.env.NODE_ENV === 'development') {\r\n      console.warn('User data or user_id is missing in CreateReview component. Check how userData is passed.');\r\n      console.warn('Available userData:', userData);\r\n    }\r\n  }, [user_id, userData]);\r\n\r\n  const regions = ['North', 'South', 'Central', 'West', 'East'];\r\n  const MAX_FILE_SIZE_MB = 5;\r\n  const MAX_TOTAL_FILES = 5;\r\n  const MAX_TOTAL_SIZE_MB = 20;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      imagePreviewUrls.forEach(url => URL.revokeObjectURL(url));\r\n    };\r\n  }, [imagePreviewUrls]);\r\n\r\n  const handleImageChange = (e) => {\r\n    setErrorMsg('');\r\n    setSuccessMsg('');\r\n\r\n    const files = e.target.files ? Array.from(e.target.files) : [];\r\n    console.log(`Selected ${files.length} files:`, files);\r\n\r\n    if (!files.length) {\r\n      imagePreviewUrls.forEach(url => URL.revokeObjectURL(url));\r\n      setImageFiles([]);\r\n      setImagePreviewUrls([]);\r\n      return;\r\n    }\r\n\r\n    if (files.length > MAX_TOTAL_FILES) {\r\n        setErrorMsg(`You can upload a maximum of ${MAX_TOTAL_FILES} images.`);\r\n        e.target.value = null;\r\n        return;\r\n    }\r\n\r\n    const newImageFiles = [];\r\n    const newPreviewUrls = [];\r\n    let validationError = false;\r\n    let totalSize = 0;\r\n\r\n    for (const file of files) {\r\n      totalSize += file.size;\r\n      if (file.size > MAX_FILE_SIZE_MB * 1024 * 1024) {\r\n        setErrorMsg(`Image \"${file.name}\" exceeds ${MAX_FILE_SIZE_MB}MB limit.`);\r\n        validationError = true;\r\n        break;\r\n      }\r\n      newImageFiles.push(file);\r\n    }\r\n\r\n    if (totalSize > MAX_TOTAL_SIZE_MB * 1024 * 1024) {\r\n      setErrorMsg(`Total size of all images exceeds ${MAX_TOTAL_SIZE_MB}MB limit.`);\r\n      validationError = true;\r\n    }\r\n\r\n    if (validationError) {\r\n      imagePreviewUrls.forEach(url => URL.revokeObjectURL(url));\r\n      setImageFiles([]);\r\n      setImagePreviewUrls([]);\r\n      e.target.value = null;\r\n      return;\r\n    }\r\n\r\n    imagePreviewUrls.forEach(url => URL.revokeObjectURL(url));\r\n    newImageFiles.forEach(file => newPreviewUrls.push(URL.createObjectURL(file)));\r\n\r\n    console.log(`Created ${newPreviewUrls.length} preview URLs`);\r\n\r\n    setImageFiles(newImageFiles);\r\n    setImagePreviewUrls(newPreviewUrls);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setTitle('');\r\n    setReviewText('');\r\n    setSelectedRegion(null);\r\n    setImageFiles([]);\r\n    imagePreviewUrls.forEach(url => URL.revokeObjectURL(url));\r\n    setImagePreviewUrls([]);\r\n    const fileInput = document.getElementById('images');\r\n    if (fileInput) fileInput.value = null;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setUploading(true);\r\n    setErrorMsg('');\r\n    setSuccessMsg('');\r\n    setUploadProgress({});\r\n\r\n    if (!user_id) {\r\n      setErrorMsg('You must be logged in to post a review. Please log in and try again.');\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    if (!title || !reviewText || !selectedRegion) {\r\n      setErrorMsg('Please fill in Title, Review, and select a Region.');\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    const cleanRegion = selectedRegion?.replace(/[0-9]/g, '');\r\n    const uploadedImagePublicUrls = [];\r\n\r\n    if (imageFiles.length > 0) {\r\n      console.log(`Preparing to upload ${imageFiles.length} images`);\r\n\r\n      const initialProgress = {};\r\n      imageFiles.forEach((file, index) => {\r\n        initialProgress[index] = 0;\r\n      });\r\n      setUploadProgress(initialProgress);\r\n\r\n      const uploadPromises = imageFiles.map(async (file, index) => {\r\n        const fileExt = file.name.split('.').pop();\r\n        const fileName = `${Date.now()}-${Math.random().toString(36).substring(2, 10)}-${index}.${fileExt}`;\r\n        const filePath = fileName;\r\n\r\n        console.log(`Starting upload for file ${index}: ${file.name}`);\r\n\r\n        try {\r\n          const updateProgress = (progress) => {\r\n            setUploadProgress(prev => ({\r\n              ...prev,\r\n              [index]: progress\r\n            }));\r\n          };\r\n          \r\n          updateProgress(10);\r\n\r\n          const { error: uploadError } = await supabase.storage\r\n            .from('image')\r\n            .upload(filePath, file, {\r\n              cacheControl: '3600',\r\n              upsert: false,\r\n            });\r\n\r\n          updateProgress(80);\r\n\r\n          if (uploadError) {\r\n            console.error(`Image Upload Error for ${file.name}:`, uploadError);\r\n            throw new Error(`Failed to upload ${file.name}: ${uploadError.message}`);\r\n          }\r\n\r\n          const { data: urlData } = supabase.storage\r\n            .from('image')\r\n            .getPublicUrl(filePath);\r\n\r\n          updateProgress(100);\r\n\r\n          if (!urlData || !urlData.publicUrl) {\r\n            throw new Error(`Image ${file.name} uploaded, but could not get its URL.`);\r\n          }\r\n          \r\n          console.log(`Successfully uploaded file ${index}: ${urlData.publicUrl}`);\r\n          return urlData.publicUrl;\r\n        } catch (err) {\r\n          console.error('Unexpected upload error:', err);\r\n          throw err;\r\n        }\r\n      });\r\n\r\n      try {\r\n        const urls = await Promise.all(uploadPromises);\r\n        console.log(`All uploads complete. Got ${urls.length} URLs:`, urls);\r\n        uploadedImagePublicUrls.push(...urls);\r\n      } catch (error) {\r\n        setErrorMsg(error.message + ' Review not posted.');\r\n        setUploading(false);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const reviewData = {\r\n      user_id: user_id,\r\n      post_title: title,\r\n      post_detail: reviewText,\r\n      post_region: cleanRegion,\r\n      post_like: 0,\r\n      post_dislike: 0,\r\n    };\r\n\r\n    if (uploadedImagePublicUrls.length > 0) {\r\n      reviewData.post_image = uploadedImagePublicUrls;\r\n      console.log(\"Image URLs to be saved:\", uploadedImagePublicUrls);\r\n    }\r\n\r\n    try {\r\n      const { data: insertData, error: insertError } = await supabase\r\n        .from('post')\r\n        .insert([reviewData])\r\n        .select();\r\n\r\n      setUploading(false);\r\n\r\n      if (insertError) {\r\n        console.error('Insert Error:', insertError);\r\n        if (insertError.code === '23505') {\r\n          setErrorMsg('This post appears to be a duplicate. Please try with a different title or content.');\r\n          if (insertError.details) {\r\n            console.log('Constraint violation details:', insertError.details);\r\n            if (insertError.details.includes('post_title')) {\r\n              setErrorMsg('A post with this title already exists. Please use a different title.');\r\n            } else if (insertError.details.includes('post_detail')) {\r\n              setErrorMsg('A post with identical content already exists. Please modify your review text.');\r\n            } else {\r\n              setErrorMsg('Your post is similar to an existing one. Please make more substantial changes.');\r\n            }\r\n          }\r\n        } else {\r\n          setErrorMsg(`Failed to post review: ${insertError.message}. Check console.`);\r\n        }\r\n      } else {\r\n        console.log('Inserted Review:', insertData);\r\n        setSuccessMsg('Review posted successfully!');\r\n        resetForm();\r\n      }\r\n    } catch (error) {\r\n      console.error('Unexpected error:', error);\r\n      setErrorMsg(`An unexpected error occurred: ${error.message}`);\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    resetForm();\r\n    setErrorMsg('');\r\n    setSuccessMsg('');\r\n    console.log('Form cancelled');\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"formCard\">\r\n        <h2 className=\"heading\">Create New Review</h2>\r\n\r\n        {!user_id && (\r\n          <p className=\"errorText\">You must be logged in to create a review.</p>\r\n        )}\r\n        {errorMsg && <p className=\"errorText\">{errorMsg}</p>}\r\n        {successMsg && <p className=\"successText\">{successMsg}</p>}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <label htmlFor=\"title\" className=\"label\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"title\"\r\n              className=\"input\"\r\n              placeholder=\"E.g. Amazing Italian Restaurant in Downtown\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Region</label>\r\n            <div className=\"regionContainer\">\r\n              {regions.map((region, index) => (\r\n                <button\r\n                  key={index}\r\n                  type=\"button\"\r\n                  className={`regionButton ${selectedRegion === region + index ? 'selectedRegionButton' : ''}`}\r\n                  onClick={() => {\r\n                    setSelectedRegion(region + index);\r\n                    setErrorMsg('');\r\n                  }}\r\n                >\r\n                  {region}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"review\" className=\"label\">Review</label>\r\n            <textarea\r\n              id=\"review\"\r\n              className=\"textarea\"\r\n              placeholder=\"Share your experience...\"\r\n              value={reviewText}\r\n              onChange={(e) => setReviewText(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"images\" className=\"label\">\r\n              Upload Images (Optional, max {MAX_FILE_SIZE_MB}MB each, {MAX_TOTAL_FILES} files max)\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"images\"\r\n              accept=\"image/png, image/jpeg, image/gif\"\r\n              multiple\r\n              onChange={handleImageChange}\r\n              className=\"input\"\r\n              disabled={uploading}\r\n            />\r\n            \r\n            {imagePreviewUrls.length > 0 && (\r\n              <div \r\n                className=\"imagePreviewContainer\"\r\n                style={{\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  gap: '10px',\r\n                  marginTop: '10px'\r\n                }}\r\n              >\r\n                {imagePreviewUrls.map((url, index) => (\r\n                  <div \r\n                    key={index} \r\n                    className=\"imagePreviewWrapper\"\r\n                    style={{\r\n                      position: 'relative',\r\n                      width: '100px',\r\n                      height: '100px',\r\n                      border: '1px solid #ddd',\r\n                      borderRadius: '4px',\r\n                      overflow: 'hidden'\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={url}\r\n                      alt={`Preview ${index + 1}`}\r\n                      className=\"imagePreview\"\r\n                      style={{\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        objectFit: 'cover'\r\n                      }}\r\n                    />\r\n                    {uploading && uploadProgress[index] !== undefined && (\r\n                      <div className=\"uploadProgressOverlay\">\r\n                        <div \r\n                          className=\"uploadProgressBar\" \r\n                          style={{width: `${uploadProgress[index]}%`}}\r\n                        ></div>\r\n                        <span className=\"uploadProgressText\">\r\n                          {uploadProgress[index]}%\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                    {!uploading && (\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"removeImageButton\"\r\n                        style={{\r\n                          position: 'absolute',\r\n                          top: '2px',\r\n                          right: '2px',\r\n                          background: 'rgba(0,0,0,0.5)',\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          borderRadius: '50%',\r\n                          width: '20px',\r\n                          height: '20px',\r\n                          cursor: 'pointer',\r\n                          fontSize: '12px',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center',\r\n                          padding: 0\r\n                        }}\r\n                        onClick={() => {\r\n                          const newFiles = [...imageFiles];\r\n                          const newUrls = [...imagePreviewUrls];\r\n                          URL.revokeObjectURL(newUrls[index]);\r\n                          newFiles.splice(index, 1);\r\n                          newUrls.splice(index, 1);\r\n                          setImageFiles(newFiles);\r\n                          setImagePreviewUrls(newUrls);\r\n                        }}\r\n                      >\r\n                        ✕\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"buttonContainer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"cancelButton\"\r\n              onClick={handleCancel}\r\n              disabled={uploading || !user_id}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"postButton\"\r\n              disabled={uploading || !user_id}\r\n            >\r\n              {uploading ? 'Posting...' : 'Post Review'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateReview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}